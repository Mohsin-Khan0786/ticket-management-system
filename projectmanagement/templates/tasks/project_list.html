{% extends 'userprofile/base.html' %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>All Projects</h2>
    <a href="{% url 'project_create' %}" class="btn btn-primary">Create Project</a>
  </div>
  <ul class="list-group">
    {% for project in projects %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span>
        <a href="{% url 'project_detail' project.id %}"><strong>{{ project.title }}</strong></a>
        <small class="text-muted d-block">{{ project.team_members.count }} Members | {{ project.open_tasks }} Open Tasks</small>
        <a class="btn btn-sm btn-outline-secondary mt-1" href="{% url 'task_create' project.id %}">Create Task</a>
        <a class="btn btn-sm btn-outline-primary mt-1" href="{% url 'upload_document' project.id %}">Upload Document</a>
        <a class="btn btn-sm btn-outline-primary mt-1" href="{% url 'document_list' project.id %}">View Documents</a>
      </span>
    </li>
    {% empty %}
    <li class="list-group-item">No projects found.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
